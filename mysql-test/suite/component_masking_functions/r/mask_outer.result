#
# Component Masking Functions: mask_outer
#
INSTALL COMPONENT 'file://component_masking_functions';
SELECT mask_outer('This is a string', 5, 1);
mask_outer('This is a string', 5, 1)
XXXXXis a strinX
SELECT mask_outer('This is a string', 1, 5);
mask_outer('This is a string', 1, 5)
Xhis is a sXXXXX
SELECT mask_outer('This is a string', 5, 1, '#');
mask_outer('This is a string', 5, 1, '#')
#####is a strin#
SELECT mask_outer(NULL, 5, 1);
mask_outer(NULL, 5, 1)
NULL
SELECT mask_outer(NULL, 5, 1, '#');
mask_outer(NULL, 5, 1, '#')
NULL
SELECT mask_outer('This is a string', -1, 5);
ERROR HY000: mask_outer<string> UDF failed; Margins can't be negative!
SELECT mask_outer('This is a string', 1, -5);
ERROR HY000: mask_outer<string> UDF failed; Margins can't be negative!
SELECT mask_outer('This is a string', 'a', 5);
ERROR HY000: mask_outer<string> UDF failed; Margins have to be numbers!
SELECT mask_outer('This is a string', 2, 'b');
ERROR HY000: mask_outer<string> UDF failed; Margins have to be numbers!
SELECT mask_outer('This is a string', 1, 25);
mask_outer('This is a string', 1, 25)
XXXXXXXXXXXXXXXX
SELECT mask_outer('This is a string', 100, 500);
mask_outer('This is a string', 100, 500)
XXXXXXXXXXXXXXXX
SELECT mask_outer('This is a string', 9, 9);
mask_outer('This is a string', 9, 9)
XXXXXXXXXXXXXXXX
SELECT mask_outer('abcdef', 0, 5);
mask_outer('abcdef', 0, 5)
aXXXXX
SELECT mask_outer('abcdef', 0, 5, '#');
mask_outer('abcdef', 0, 5, '#')
a#####
# check charset of mask_outer()
SELECT CHARSET(mask_outer('abcdef', 1, 2));
CHARSET(mask_outer('abcdef', 1, 2))
utf8mb4
SELECT mask_outer(_utf8mb4'árvíztűrő tükörfúrógép', 10, 2);
mask_outer(_utf8mb4'árvíztűrő tükörfúrógép', 10, 2)
XXXXXXXXXXtükörfúrógXX
SELECT CHARSET(mask_outer(_utf8mb4'árvíztűrő tükörfúrógép', 10, 2));
CHARSET(mask_outer(_utf8mb4'árvíztűrő tükörfúrógép', 10, 2))
utf8mb4
SELECT CHAR_LENGTH('This is a string');
CHAR_LENGTH('This is a string')
16
SELECT mask_outer('This is a string', 5, 1, 'ű');
mask_outer('This is a string', 5, 1, 'ű')
űűűűűis a strinű
SELECT mask_outer('This is a string', 0, 1, 'ű');
mask_outer('This is a string', 0, 1, 'ű')
This is a strinű
SELECT mask_outer('This is a string', 5, 0, 'ű');
mask_outer('This is a string', 5, 0, 'ű')
űűűűűis a string
SELECT CHAR_LENGTH(mask_outer('This is a string', 5, 1, 'ű'));
CHAR_LENGTH(mask_outer('This is a string', 5, 1, 'ű'))
16
SELECT mask_outer('This is a string', 5, 1, _utf32'#');
mask_outer('This is a string', 5, 1, _utf32'#')
#####is a strin#
SELECT CHAR_LENGTH(mask_outer('This is a string', 5, 1, _utf32'#'));
CHAR_LENGTH(mask_outer('This is a string', 5, 1, _utf32'#'))
16
UNINSTALL COMPONENT 'file://component_masking_functions';
