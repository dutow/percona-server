--echo #
--echo # Component Masking Functions: mask_pan
--echo #

INSTALL COMPONENT 'file://component_masking_functions';

SELECT mask_pan("1234567890122461");
SELECT mask_pan("123456789012246");
--error ER_CANT_INITIALIZE_UDF
SELECT mask_pan(NULL);
--error ER_CANT_INITIALIZE_UDF
SELECT mask_pan("");
SELECT mask_pan("123496798465498779");
SELECT mask_pan("this is not a pan");

SELECT mask_pan("1234567890122461", "!");

--echo # check charset of mask_pan()
SELECT mask_pan("1234567890122461", 'ű');
SELECT mask_pan(_latin2"1234567890122461", 'ű');
SELECT CHARSET(mask_pan("1234567890122461", 'ű'));
SELECT CHARSET(mask_pan(_latin2"1234567890122461", 'ű'));
UNINSTALL COMPONENT 'file://component_masking_functions';
